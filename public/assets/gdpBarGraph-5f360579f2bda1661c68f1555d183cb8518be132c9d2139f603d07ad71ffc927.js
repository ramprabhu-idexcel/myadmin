function render(t){t.forEach(function(t){t.gdp=+t.gdp,t.country=t.country,console.log(t.gdp)}),t.sort(function(t,n){return n.gdp-t.gdp}),xScale.domain(t.map(function(t){return t.country})),yScale.domain([0,d3.max(t,function(t){return t.gdp})]),svg.selectAll("rect").data(t).enter().append("rect").attr("height",0).transition().duration(3e3).delay(function(t,n){return 200*n}).attr("y",height).attr({x:function(t){return xScale(t.country)},y:function(t){return yScale(t.gdp)},width:xScale.rangeBand(),height:function(t){return height-yScale(t.gdp)}}).style("fill",function(){return"rgb(231, 42, 65)"}),svg.selectAll("text").data(t).enter().append("text").text(function(t){return t.gdp}).attr("x",function(t){return xScale(t.country)+xScale.rangeBand()/2}).attr("y",function(t){return yScale(t.gdp)+12}).style("fill","white").style("text-anchor","middle"),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis).selectAll("text").attr("transform","rotate(-60)").attr("dx","-.8em").attr("dy",".25em").style("text-anchor","end").style("font-size","12px"),svg.append("g").attr("class","y axis").call(yAxis).style("font-size","12px")}var margin={top:20,right:10,bottom:100,left:40},width=500-margin.right-margin.left,height=300-margin.top-margin.bottom,svg=d3.select(".bar_graph_panel").append("svg").attr({width:width+margin.right+margin.left,height:height+margin.top+margin.bottom}).append("g").attr("transform","translate("+margin.left+","+margin.right+")"),xScale=d3.scale.ordinal().rangeRoundBands([0,width],.2,.2),yScale=d3.scale.linear().range([height,0]),xAxis=d3.svg.axis().scale(xScale).orient("bottom"),yAxis=d3.svg.axis().scale(yScale).orient("left"),myArrayOfObjects=[{country:"Brazil",gdp:2.14},{country:"Italy",gdp:2.04},{country:"India",gdp:1.7},{country:"Canada",gdp:1.57},{country:"Russian Federation",gdp:1.52},{country:"spain",gdp:1.37},{country:"Australia",gdp:1.14},{country:"Mexico",gdp:1.04},{country:"Korea",gdp:1.01},{country:"United states",gdp:14.9},{country:"China",gdp:5.93},{country:"Germony",gdp:3.28},{country:"Japan",gdp:5.49},{country:"France",gdp:2.54},{country:"United Kingtom",gdp:2.28}];render(myArrayOfObjects);